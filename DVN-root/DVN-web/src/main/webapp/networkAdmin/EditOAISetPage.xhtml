<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:jsp="http://java.sun.com/JSP/Page"
      xmlns:ice="http://www.icesoft.com/icefaces/component">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
</head>
<body>
  <ui:composition template="/template.xhtml">
    <ui:param name="pageTitle" value="#{bundlePageInfo.editOaiSetTitle} - #{VDCRequest.dataversePageTitle}"/>
    <ui:define name="metadata">
        <f:metadata>
             <f:viewParam name="oaiSetId" value ="#{EditOAISetPage.oaiSetId}"/>
             <f:event type="preRenderView" listener="#{EditOAISetPage.preRenderView}"/>
        </f:metadata>
    </ui:define>
    <ui:define name="body">
      <ice:form id="form1">
        <ice:inputHidden value="#{EditOAISetPage.oaiSet.id}"/>
        <ice:inputHidden value="#{EditOAISetPage.oaiSet.version}"/>
        <input type="hidden" name="pageName" value="EditOAISetPage"/>
        <div class="dvn_section">
          <div class="dvn_sectionTitle">
            <ice:outputText value="#{bundlePageInfo.editOaiSetTitle}"/>
          </div>
          <div class="dvn_sectionBox">
            <div class="dvn_margin12">
              <div jsfc="ice:panelGroup" styleClass="dvnInformationMessage">
                <div class="dvnMsgBlockContainer">
                  <ice:outputText value="#{bundlePageInfo.editOaiSetHelp}" escape="false"/>
                </div>
              </div>
              <div jsfc="ice:panelGroup" styleClass="vdcHelpText">
                <ice:graphicImage value="/resources/images/icon_required.gif"/> <ice:outputText value="Indicates a required field."/>
              </div>
              <ice:panelGrid cellpadding="0" cellspacing="0" columns="2" width="98%"
                             columnClasses="vdcColPadded, vdcColPadded" id="gridPanel2">
                <div jsfc="ice:panelGroup">
                  <ice:outputText value="Set Name"/>
                  <ice:graphicImage value="/resources/images/icon_required.gif"/>
                </div>
                <div jsfc="ice:panelGroup">
                  <ice:inputText id="oaiSetName" value="#{EditOAISetPage.oaiSet.name}" required="true" requiredMessage="This field is required."/>
                  <ice:message for="oaiSetName" styleClass="errorMessage"/>
                  <br/>
                  <ice:outputText styleClass="vdcHelpText" value="User friendly name to display when OAI is called."/>
                </div>
                <div jsfc="ice:panelGroup">
                  <ice:outputText value="Set Spec"/>
                  <ice:graphicImage value="/resources/images/icon_required.gif"/>
                </div>
                <div jsfc="ice:panelGroup">
                    <ice:inputText id="oaiSetSpec" validator="#{EditOAISetPage.validateSpec}" value="#{EditOAISetPage.oaiSet.spec}" required="true" requiredMessage="This field is required."/>
                  <ice:message for="oaiSetSpec" styleClass="errorMessage"/>
                  <br/>
                  <ice:outputText styleClass="vdcHelpText" value="Unique Identifier for the set. It's the token passed from OAI server to client."/>
                </div>
                <div jsfc="ice:panelGroup">
                  <ice:outputText value="Query Definition"/>
                  <ice:graphicImage value="/resources/images/icon_required.gif"/>
                </div>
                <div jsfc="ice:panelGroup">
                  <ice:inputText id="oaiSetDefiniton" value="#{EditOAISetPage.oaiSet.definition}" required="true" requiredMessage="This field is required." size="100"/>
                  <ice:message for="oaiSetDefiniton" styleClass="errorMessage"/>
                  <br/>
                  <ice:outputText styleClass="vdcHelpText" value="Query that defines set. It uses the same syntax as query collections."/>
                </div>
                <div jsfc="ice:panelGroup">
                  <ice:outputText value="Description"/>
                </div>
                <div jsfc="ice:panelGroup">
                  <ice:inputText id="oaiSetDescription" value="#{EditOAISetPage.oaiSet.description}" size="100"/>
                  <ice:message for="oaiSetDescription" styleClass="errorMessage"/>
                  <br/>
                  <ice:outputText styleClass="vdcHelpText" value="Optional description about the OAI set."/>
                </div>
              </ice:panelGrid>
              <div jsfc="ice:panelGroup" styleClass="dvnFormPadding dvnFormMargin">
                <ice:commandButton value="Save" action="#{EditOAISetPage.save}"/>
                <ice:commandButton immediate="true" value="Cancel" action="#{EditOAISetPage.cancel}"/>
              </div>
            </div>
          </div>
        </div>
      </ice:form>
      <script type="text/javascript">
          // initial call to disable subsetting Restricted (if needed)
          updateScheduleInput();
      </script>
    </ui:define>
  </ui:composition>
</body>
</html>